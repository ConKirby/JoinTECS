---
// ========================================
// SHINY TEXT COMPONENT
// ========================================
// Animated text with shimmer effect for call-to-action buttons
//
// PURPOSE:
// - Creates eye-catching animated buttons for registration and sign-up
// - Features shimmer animation that draws attention to important actions
// - Used in Sign Up section for student and teacher registration
// - Provides visual feedback and enhances conversion rates
//
// USAGE:
// - Sign Up section: "Student Registration" and "Teacher Registration" buttons
// - Call-to-action buttons throughout the site
// - Can be used as links or spans depending on href prop
// - Customizable animation speed and styling
//
// FEATURES:
// - Shimmer animation with customizable speed
// - Support for both link and span elements
// - Disabled state for non-interactive use
// - Customizable styling and CSS classes
// - Performance optimized with CSS animations

export interface Props {
  text: string; // Text content to display
  disabled?: boolean; // Disable animation (default: false)
  speed?: number; // Animation speed in seconds (default: 5)
  className?: string; // Optional CSS class for styling customization
  href?: string; // Link URL (if provided, renders as <a> tag)
  style?: string; // Inline CSS styles
  variant?: 'default' | 'student'; // Style variant (currently unused)
}

const {
  text,
  disabled = false,
  speed = 5,
  className = '',
  href,
  style = ''
} = Astro.props;

const animationDuration = `${speed}s`;
---

{href ? (
  <a 
    href={href}
    class={`shiny-text ${disabled ? 'disabled' : ''} ${className}`} 
    style={style}
  >
    {text}
  </a>
) : (
  <span 
    class={`shiny-text ${disabled ? 'disabled' : ''} ${className}`} 
    style={style}
  >
    {text}
  </span>
)}

<style>
  .shiny-text {
    color: #000000; /* Black text for contrast */
    background: 
      linear-gradient(
        120deg,
        transparent 40%,
        rgba(62, 168, 111, 0.8) 50%,
        transparent 60%
      ),
      #ffffff; /* White background */
    background-size: 200% 100%, 100% 100%;
    display: inline-block;
    animation: shine 4s linear infinite; /* Much slower animation */
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.2s ease;
  }

  @keyframes shine {
    0% {
      background-position: 100% 0, 0 0;
    }
    100% {
      background-position: -100% 0, 0 0;
    }
  }

  .shiny-text.disabled {
    animation: none;
  }
</style>
